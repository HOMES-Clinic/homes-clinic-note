<!DOCTYPE html>
<html>

<head>
  <title>HOMES Clinic</title>

  <script src="js/script.js" defer></script>
  <script src="jquery.min.js" defer></script>
  <script src="listbox/listbox.js" defer></script>
  <script src="listbox/listbox-scrollable.js" defer></script>
  <script src="listbox/utils.js"></script>
  <script src="js/medication-script.js"></script>
  <script src="js/global-vars.js"></script>
  <script src="js/encounter.js"></script>
  <script src="js/gen_note.js"></script>
  <script src="bootstrap\js\bootstrap.bundle.min.js"></script>
  <script src="bootstrap\js\bootstrap-multiselect.js"></script>
  <script src="js/encounter_timer.js"></script>
  <script src="js/prev-health.js"></script>

  <link rel="stylesheet" href="bootstrap\css\bootstrap.min.css">
  <link rel="stylesheet" href="bootstrap\css\bootstrap-multiselect.css">
  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <link rel="stylesheet" type="text/css" href="css/medication-styles.css">
  <link rel="stylesheet" type="text/css" href="css/prev-health.css">
  <link rel="stylesheet" type="text/css" href="print-styles.css" media="print">
  <link rel="stylesheet" type="text/css" href="listbox/listbox.css">
  <link rel="stylesheet" type="text/css" href="css/triage.css">
  <link rel="stylesheet" type="text/css" href="css/encounter.css">
  <link rel="stylesheet" type="text/css" href="css/encounter2.css">
  
</head>

<body>

  <h1>HOMES Clinic</h1>

  <!-- TAB NAVIGATION -->
  <div class="tab-container">
    <img src="HOMES_logo.jpg" alt="HOMES Logo" class="logo">
    <button class="tab-button" onclick="openTab('Overview')">Overview</button>
    <button class="tab-button" onclick="openTab('Triage')">Triage</button>
    <button class="tab-button" onclick="openTab('Forms')">Forms</button>
    <button class="tab-button" onclick="openTab('Encounter')">Encounter</button>
    <button class="tab-button" onclick="openTab('Encounter2')">Encounter2</button>
    <button class="tab-button" onclick="openTab('PrevHealth')">Preventative Health</button>
    <button class="tab-button" onclick="openTab('Medications')">Medications</button>
    <button class="tab-button" onclick="openTab('Referrals')">Referrals</button>
    <button class="tab-button" onclick="openTab('AfterVisitSummary')">After Visit Summary</button>
    <button class="tab-button" onclick="openTab('ED_Dir')">ED Directions</button>
    <!--<button class="tab-button" onclick="openTab('PtSum')">Patient Summary</button>-->
    <button class="tab-button" onclick="openTab('GenNote')" style="margin-right:22px;">Generate Note</button>  
  </div>



  <!-- OVERVIEW TAB -->
  <div class="tab-content" id="Overview">
    <h2>Overview</h2>
    <p>
      Phone number for Ronald Marshall, manager of The Beacon: 713-591-5404.
    </p>
    <p style="margin: 0;">
      Wifi:
      <ul>
        <li>Wifi Login: beacon staff</li>
        <li>Wifi Password: RestoringHope2024!</li>
        <li>Computer Login: hhh</li>
        <li>Computer Password: hhh001</li>
      </ul>
    </p>
    <p>
      Masterword provides phone translation for HHH/HOMES at 1-866-716-4999. If PIN is requested, use 29841760. If you need an ASL interpreter, call Susan Broussard at 713-286-6124.
    </p>
    <p>
      Restrooms: Hold 2 and 4 simultaneously > hit 3 > hit enter.
    </p>
  </div>



  <!-- TRIAGE TAB -->
  <div class="tab-content triage-tab" id="Triage">

    <!-- Title -->
    <h1 class="triage-title">Triage</h1>

    <!-- Buttons and Collapsible Content -->

    <!-- Instructions Collapsible -->
    <button class="collapsible-button" onclick="collapseClick(this)">Instructions</button>
    <div class="collapsible-content collapsible-instructions">
      <ol class="instructions">
        <li>Stop all movement of students through the back door. <span class="bold-text">All students need to be going through the front door/breezeway to enter and exit the Beacon</span> (getting lunch, going to speak to laundry staff, etc).</li>
        <ul>
          <li>Patients should always be escorted into the clinic waiting room through the clinic front door.</li>
          <li>Patients should return to the Beacon during operating hours through the front glass double door entrance.</li>
        </ul>
        <li>All HOMES Clinic volunteers should have another <span class="bold-text">volunteer buddy</span> for any activity in which they interact with patients or have the potential to interact with Beacon clients.</li>
        <li>If HOMES Clinic volunteers find themselves in an uncomfortable or unsafe situation with a patient or another person (the person is yelling, making derogatory or sexually suggestive comments, threatening physical violence, etc), <span class="bold-text underline-text">volunteers should remove themselves from the situation and do the following: Volunteers should immediately alert the in-person physician or pharmacist attending to help de-escalate and manage unsafe situations.</span></li>
        <li>We will set up an <span class="bold-text highlight-text">Assistant Manager “lifeguard”</span> who stands by the clinical students triaging who’s entire purpose is to <span class="bold-text">monitor the preclinical and clinical students and can go get assistance if needed.</span></li>
        <li><span class="bold-text">The Health Advocates will now perform their role during triage.</span> As the pre-clinical students walk around the tables, they will direct people with social concerns towards the health advocates, who will set up their own table next to the clinical student’s triage station. After triage, the health advocates can remain at their table and continue talking to any patients if necessary.</li>
        <li>If an incident occurs, students need to <span class="bold-text">alert HOMES Clinic Faculty Advisors Dr. Clark and Dr. Wallace</span> as soon as it is safe to do so.</li>
        <li><span class="bold-text highlight-text">If there are ever any incidents during your shift as a Manager/MIT, especially concerning safety, please contact one of the AD Managers (Aditya/Panos) and let us know! Even if the incidents were resolved or were not associated with any consequences, we would like you to let us know.</span></li>
      </ol>
    </div>


    <!-- Beacon Orientation Collapsible -->
    <button class="collapsible-button" onclick="collapseClick(this)">Beacon Orientation</button>
    <div class="collapsible-content collapsible-orientation">
      <img class="beacon-orientation" src="img/Beacon Diagram.svg" alt="Beacon Orientation">
    </div>


    <!-- Patient Priority Collapsible -->
    <button class="collapsible-button" onclick="collapseClick(this)">Patient Priority</button>
    <div class="collapsible-content collapsible-priority">
      <div class="priority-container">

        <div class="category-container">
          <div class="priority-ranks level-1">Level 1</div>
          <p class="category-description">The patient is unresponsive or unconscious, suffering from life-threatening conditions, or has suicidal ideation with intent.</p>
          <p class="bold-text category-to-do">Call 911</p>
        </div>

        <div class="category-container">
          <div class="priority-ranks level-2">Level 2</div>
          <p class="category-description">The patient shows signs of distress and is experiencing a condition that can become life-threatening. Patient needs to be reevaluated at a hospital and needs continuous monitoring.</p>
          <p class="bold-text category-to-do">Instructions to Ben Taub</p>
        </div>

        <div class="category-container">
          <div class="priority-ranks level-3">Level 3</div>
          <p class="category-description">The patient is stable, but requires multiple types of resources / medications to be treated.</p>
          <p class="bold-text category-to-do">HOMES Possible + Instructions to Ben Taub</p>
        </div>

        <div class="category-container">
          <div class="priority-ranks level-4">Level 4</div>
          <p class="category-description">The patient is stable, but has treatable injuries or medication refills that need medical attention.</p>
          <p class="bold-text category-to-do">HOMES Possible</p>
        </div>

        <div class="category-container">
          <div class="priority-ranks level-5">Level 5</div>
          <p class="category-description">The patient has non-threatening symptoms, is in stable condition, or has an appointment scheduled in the future.</p>
          <p class="bold-text category-to-do">Pass / Observe</p>
        </div>

      </div>
    </div>


    <!-- Triage Table -->
    <h1 class="triage-title">Patient List</h1>
    <div class="triage-input-grid">

      <!-- Name Input -->
      <div class="input-divs input-div-name">
        <h3 class="triage-topics">Patient Name</h3>
        <input placeholder="Name" class="js-name-input js-triage-item name-input">
      </div>

      <!-- Date of birth Input -->
      <div class="input-divs input-div-dob">
        <h3 class="triage-topics">Date of Birth</h3>
        <input type="date" class="js-dob-input js-triage-item dob-input">
      </div>

      <!-- Temperature Input -->
      <div class="input-divs input-div-temp">
        <h3 class="triage-topics">Temperature</h3>
        <input placeholder="00.0" type="number" class="js-temp-input temp-input">
      </div>

      <!-- Location -->
      <div class="input-divs input-div-location">
        <h3 class="triage-topics">Location</h3>
        <input placeholder="Where is the patient sitting?" class="js-loc-input js-triage-item loc-input">
      </div>

      <!-- Chief Concern Input -->
      <div class="input-divs input-div-cc">
        <h3 class="triage-topics">Chief Concern</h3>
        <input placeholder="Chief Concern" class="js-cc-input js-triage-item cc-input">
      </div>

      <!-- New to HHH input -->
      <div class="input-divs input-div-hhh">
        <h3 class="triage-topics">New to HHH / Harris Health?</h3>
        <div class="radio-div">
          <input type="radio" id="yes" name="hhh" class="js-hhh-input" value="yes">
          <label for="yes">Yes</label>
          <input type="radio" id="no" name="hhh" class="js-hhh-input" value="no">
          <label for="no">No</label>
          <input type="radio" id="unsure" name="hhh" class="js-hhh-input" value="unsure">
          <label for="unsure">Unsure</label>
        </div>
      </div>

      <!-- Add/Remove Button -->
      <div class="input-divs">
        <h3 class="triage-topics">Add/Remove</h3>
        <button class="add-triage-button js-add-triage-button">Add</button>
      </div>

    </div>


    <!-- Running list of patients -->
    <div class="js-triage-list triage-grid"></div>


    <!-- Script for running Triage -->
    <script src="js/triage.js"></script>


  </div>



  <!-- FORMS TAB -->
  <div class="tab-content" id="Forms">
    <h2>Forms</h2>
    <div class="directions-options">
      <button class="directions-button"><a class="directions-link" target="_blank" href="https://fs21.formsite.com/HealthcarefortheHomeless/3qcxekcivb/index">Volunteer Privacy & Media Form</a></button>
      <button class="directions-button"><a class="directions-link" target="_blank" href="https://fs21.formsite.com/HealthcarefortheHomeless/registrationpacket/index">Patient Paperwork Packet</a></button>
      <button class="directions-button" onclick="openPdf('pdf_forms/Pharmacy - HOMES Clinic Pharmacy Student Data Form.pdf', 'Forms')">Pharmacy Student Form</button>
      <button class="directions-button"><a class="directions-link" target="_blank" href="https://drive.google.com/drive/folders/1Mbpt-HPrUwYA6FiwM0pk_1ziELKzTbvR">Health Advocate Cards</a></button>
      <button class="directions-button" onclick="openPdf('pdf_forms/Patient Paperwork - PHQ9, DAST, AUDIT.pdf', 'Forms')">PHQ9/DAST/AUDIT</button>
      <button class="directions-button"><a class="directions-link" target="_blank" href="https://redcap.link/593wtyeq">Patient Satisfaction Survey</a></button>
      <button class="directions-button"><a class="directions-link" target="_blank" href="https://redcap.link/itzvq8u6">Student Satisfaction Survey</a></button>
    </div>
    <iframe id="pdfFrameForms" width="70%" height="90%" style="display: none;"></iframe>
  </div>

  <!-- ENCOUNTER TAB -->
  <div class="tab-content" id="Encounter">
    <!-- Header and Timer -->
      <header class="encounter-header"">
        <h1>Encounter</h1>
        <div>
          <span class="timer">Time: 00:00:00</span>
          <button class="stopTimer">Start Timer</button>
        </div>
    </header>

    <!-- Encounter Content -->
    <div class="container-sm text-center" id="encounter_workarea" style="margin-top:2%">
      <div class="row">
        <!-- Sidebar content (buttons) -->
        <div class="col col-lg-2">
          <div id="sidebar">
            <button onclick="switchSection('admin')">Administrative</button>
            <button onclick="switchSection('vitals')">Vitals</button>
            <button onclick="switchSection('hpi')">HPI</button>
            <button onclick="switchSection('pmhx')">PMHx</button>
            <button onclick="switchSection('medications')">Medications Hx/Allergies</button>
            <button onclick="switchSection('obgyn')">ObGyn Hx</button>
            <button onclick="switchSection('famhx')">Family Hx</button>
            <button onclick="switchSection('sochx')">Social Hx</button>
            <button onclick="switchSection('physexam')">Physical Exam</button>
            <button onclick="switchSection('aandp')">Assessment & Plan</button>
          </div>

        <!-- Input div filled in with js -->
        </div>
        <div class="col col-md-6" id="encounter-input">
          
        </div>

        <!-- Helper div filled with js -->
        <div class="col col-lg-2">
          <div id="encounter-help-col" style="margin-bottom: 5px; height: 100%;">

          </div>
        </div>

      </div>
    </div>
  </div>


  <!-- ENCOUNTER TAB 2 -->
  <div class="tab-content encounter-content" id="Encounter2">

    
    <!-- Header and Timer -->
    <header class="encounter-header"">
      <h1>Encounter</h1>
      <div>
        <span class="timer">Time: 00:00:00</span>
        <button class="stopTimer">Start Timer</button>
      </div>
    </header>


    <!-- Sidebar Navigation -->
    <div class="encounter-container" id="encounter_workarea" style="margin-top:2%">
      <div class="sidebar">
        <a href="#admin">Administrative</a>
        <a href="#vitals">Vitals</a>
        <a href="#hpi">HPI</a>
        <a href="#pmhx">PMHx</a>
        <a href="#medications">Medications Hx/Allergies</a>
        <a href="#obgyn">ObGyn Hx</a>
        <a href="#famhx">Family Hx</a>
        <a href="#sochx">Social Hx</a>
        <a href="#physexam">Physical Exam</a>
        <a href="#aandp">Assessment & Plan</a>
      </div>


      <!-- Encounter User Input -->
      <div class="encounter-input">


        <!-- Administrative Section Content -->
        <section id="admin">
          <form onsubmit="return false;" id="admin-patient-form" class="needs-validation" novalidate style="text-align: left">
            <h2>Patient Information</h2>
            <!-- Patient Name -->
            <div class="form-group">
              <label for="patientName">Patient Name</label>
              <input type="text" class="form-control" id="patientName" placeholder="Patient Name" required>
              <div class="invalid-feedback">Please enter the patient's name.</div>
            </div>
            <!-- Date of Birth -->
            <div class="form-group">
                <label for="dob">Date of Birth</label>
                <input type="date" class="form-control" id="dob" required>
                <div class="invalid-feedback">Please enter the patient's date of birth.</div>
            </div>
            <!-- Gender -->
            <div class="form-group">
                <label for="gender">Gender</label>
                <select class="form-control" id="gender" required>
                    <option value="" selected disabled>Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
                <div class="invalid-feedback">Please select the patient's gender.</div>
            </div>
            <!-- Date of service -->
            <div class="form-group">
                <label for="dos">Date of Service</label>
                <input type="date" class="form-control" id="dos" required>
                <div class="invalid-feedback">Please enter the date of service.</div>
            </div>
            <!-- Care Team -->
            <div class="form-group">
                <label for="careTeam">Care Team Members</label>
                <textarea id="careTeam" class="form-control" placeholder="Enter the names of the care team members" id="floatingTextarea"></textarea>
                <div class="invalid-feedback">Please enter the names of the care team.</div>
            </div>
          </form>
        </section>


        <!-- Vitals Section Content -->
        <section id="vitals">
          <form onsubmit="return false;" id="vitals-form" class="needs-validation" novalidate style="text-align: left">
            <h2>Vitals</h2>
            <!-- Blood Pressure -->
            <div class="form-group">
              <label for="bp">Blood Pressure</label>
              <div class="bp-input-section">
                <div id="bp-readings"></div>
                <input type="text" class="form-control bp-reading-input" placeholder="Enter BP Reading">
                <button type="button" onclick="addBpReading()" class="btn btn-secondary" style="margin-top: 0.5em">Add Reading</button>
              </div>
            </div>
            <!-- Heart Rate -->
            <div class="form-group">
              <label for="hr">Heart Rate</label>
              <input type="number" class="form-control" id="hr" placeholder="Heart Rate (beats per minute)" required>
              <div class="invalid-feedback">
                Please enter the heart rate.
              </div>
            </div>
            <!-- Height -->
            <div class="form-group">
              <label for="height">Height</label>
              <input type="number" class="form-control" id="height" placeholder="Height" required>
              <div class="invalid-feedback">Please enter the height.</div>
            </div>
            <!-- Weight -->
            <div class="form-group">
              <label for="weight">Weight</label>
              <input type="number" class="form-control" id="weight" placeholder="Weight" required>
              <div class="invalid-feedback">Please enter the weight.</div>
            </div>
          </form>
        </section>

        <!-- HPI Section Content -->
        <section id="hpi">
          <h2>HPI</h2>
          <textarea id="hpi" class="form-control" rows="${Math.floor(rows/4)}" placeholder="${hpi_placeholder}">${window.myApp.sharedData.hpi}</textarea>
          <div id="hpi-info-box">
            <h3 style="color: #333; font-size: 18px;">HPI Guide</h3>
            <p style="font-size: 14px;">
                To gather a comprehensive HPI, consider the following:
            </p>
            <ul style="font-size: 14px;">
                <li>Chronology/Timing - provide a precise sequence of events.</li>
                <li>If dealing with a chronic issue, <strong>what is different now?</strong></li>
                <li>If multiple complaints, address each sequentially</li>
                <li>Analyze symptoms (remember LOCATES).</li>
            </ul>
            <p><strong>LOCATES:</strong></p>
            <ul style="font-size: 14px;">
                <li><strong>Location:</strong></li>
                <li><strong>Onset:</strong></li>
                <li><strong>Characteristic:</strong></li>
                <li><strong>Agg/Alleviating</strong></li>
                <li><strong>Timing/Triggers</strong></li>
                <li><strong>Environment/Emotion</strong></li>
                <li><strong>Severity</strong></li>
            </ul>
          </div>

          <!-- ROS Form -->
          <div id="encounter-input" style="text-align: left; margin-top: .5em">
              <div class="dropdown" data-bs-theme="dark">
                  <button class="btn btn-light dropdown-toggle mb-2" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Select ROS Category
                  </button>
                  <ul class="dropdown-menu">
                      ${rosCategories.map(category => `
                          <li>
                              <a class="dropdown-item" href="#" onclick="selectROSCategory('${category}')">
                                  ${capitalizeFirstLetter(category)}
                              </a>
                          </li>
                      `).join('')}
              </ul>
            </div>
            <div id="rosCollapse"></div>
          </div>

        </section>

            <section id="pmhx">
                <h2>Past Medical History (PMHx)</h2>
                <!-- PMHx Section Content -->
            </section>

            <section id="medications">
                <h2>Medications History and Allergies</h2>
                <!-- Medications Section Content -->
                    </section>

            <section id="obgyn">
                <h2>ObGyn History</h2>
                <!-- ObGyn Section Content -->
            </section>

            <section id="famhx">
                <h2>Family History</h2>
                <!-- Family History Section Content -->
            </section>

            <section id="sochx">
                <h2>Social History</h2>
                <!-- Social History Section Content -->
            </section>

            <section id="physexam">
                <h2>Physical Exam</h2>
                <!-- Physical Exam Section Content -->
            </section>

            <section id="aandp">
                <h2>Assessment & Plan</h2>
                <!-- Assessment & Plan Section Content -->
            </section>
        </div>
      </div>
    </div>
  </div>

  </div>


  <!-- PREVENTATIVE HEALTH TAB -->
  <div class="tab-content" id="PrevHealth">
    <h2>Preventative Health</h2>
    <p>Include information about Preventative Health here...</p>

    <div id="checklist-container"></div>

  </div>

  <!-- MEDICATIONS TAB -->
  <div class="tab-content" id="Medications">
    <h2>Medications</h2>
    <p>
      Users will select the medications to dispense here. Search for the medication, click it, and save at the bottom. To unselect a medication, search/click it again under the formulary column and click Save.
    </p>
    <div class="medication-container">
      <div class="medication-box">
        <h3>Formulary</h3>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medications Search</title>
    <style>
      #textContainer {
          margin-top: 20px;
      }

      .hidden {
          display: none;
      }
  </style>
  <body>
    <input type="text" id="medicationSearchBar" placeholder="Search Medications">
    <script>searchFunctionality()</script>
  </body>
        <style>
          .selectable-list {
              list-style-type: none;
              padding: 0;
              overflow-y: auto;
              width: 400px;
              height: 300px;
          }
  
          .bold {
              font-weight: bold;
          }
      </style>
          <ol id="medicationList" class="selectable-list"></ol>
      </div>
      
      <div class="medication-box">
        <h3>Drug Information</h3>
        <textarea id="medicationInfo" rows="8" cols="50" readonly></textarea>
      </div>

      <div class="medication-box">
        <h3>Prescribed Medications</h3>
        <div class="listbox-area">
          <ul id="prescribedList" tabindex="0" role="listbox" aria-labelledby="prescribedLabel"></ul>
        </div>
      </div>
    </div>
    <div class="medication-buttons">
      <button onclick="saveSelection()">Save</button>
    </div>
  </div>



  <!-- REFERRAL TAB -->
  <div class="tab-content" id="Referrals" style="margin-top:10px; padding-top:10px">
    <iframe id="iframes" src="referral.html"></iframe>
  </div>



  <!-- AFTER VISIT SUMMARY TAB -->
  <div class="tab-content" id="AfterVisitSummary" style="margin-top:10px; padding-top:10px">
      <iframe id="iframes" src="after_visit_sum.html"></iframe>
  </div>



  <!-- ED DIRECTIONS TAB -->
  <div class="tab-content" id="ED_Dir">
    <h2>ED Directions</h2>
    <div class="directions-options">
      <button class="directions-button" onclick="openPdf('pdf_directions/directions_to_ben_taub.pdf', 'ED_Directions')">Directions to Ben Taub ER</button>
      <button class="directions-button" onclick="openPdf('pdf_directions/directions_to_caroline_clinic_transit.pdf', 'ED_Directions')">Directions to Caroline Street Clinic (transit)</button>
      <button class="directions-button" onclick="openPdf('pdf_directions/directions_to_caroline_clinic_walking.pdf', 'ED_Directions')">Directions to Caroline Street Clinic (walking)</button>
      <button class="directions-button" onclick="openPdf('pdf_directions/directions_to_memorial_hermann.pdf', 'ED_Directions')">Directions to Memorial Hermann ER</button>
    </div>
    <iframe id="pdfFrameED" width="70%" height="90%" style="display: none;"></iframe>
  </div>



  <!-- PATIENT SUMMARY TAB -->
  <!--
  <div class="tab-content" id="PtSum">
    <h2>Patient Summary</h2>
    <p>
      A summary of the patient will be viewable here.
    </p>
  </div>
  -->



  <!-- GENERATE NOTE TAB -->
<div class="tab-content" id="GenNote">
  <button class="btn btn-dark" style="margin-top:1em" onclick="printNote()">Print</button>
  <iframe id="iframes"></iframe>
</div>



</body>

</html>